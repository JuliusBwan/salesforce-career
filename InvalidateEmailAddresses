// Get all Leads (or a limited set if testing)
List<Lead> allLeads = [SELECT Id, Email, Description FROM Lead WHERE Email != null];

// List of patterns to exclude
List<String> excludedPatterns = new List<String>{'mint', 'gbg', 'gbgplc', '@bigmantra.com'};

// List to hold Leads that pass the filter
List<Lead> leadsToUpdate = new List<Lead>();

for (Lead l : allLeads) {
    Boolean exclude = false;

    // Check if email contains any excluded pattern
    for (String pattern : excludedPatterns) {
        if (l.Email != null && l.Email.toLowerCase().contains(pattern.toLowerCase())) {
            exclude = true;
            break; // No need to check other patterns
        }
    }

    // Only process Leads that do NOT match excluded patterns
    if (!exclude) {
        // Example update
        l.Description = 'This lead passed the email filter';
        leadsToUpdate.add(l);
    }
}

// Save changes
if (!leadsToUpdate.isEmpty()) {
    update leadsToUpdate;
}

System.debug('Updated Leads: ' + leadsToUpdate);
